import{_ as e,c as s,o as a,ag as t}from"./chunks/framework.S-Qvb3wi.js";const k=JSON.parse('{"title":"Troubleshooting","description":"","frontmatter":{},"headers":[],"relativePath":"itlwm/Troubleshooting.md","filePath":"itlwm/Troubleshooting.md"}'),l={name:"itlwm/Troubleshooting.md"};function n(o,i,r,h,p,d){return a(),s("div",null,i[0]||(i[0]=[t(`<h1 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h1><p>Troubleshooting a Kernel Extension might not be straight forward, here are some tactics:</p><h2 id="hardware-configuration" tabindex="-1">Hardware Configuration <a class="header-anchor" href="#hardware-configuration" aria-label="Permalink to &quot;Hardware Configuration&quot;">​</a></h2><p>Make sure to connect the Adapters&#39; antennas properly. <a href="https://github.com/OpenIntelWireless/IntelBluetoothFirmware/issues/227" target="_blank" rel="noreferrer">Guide</a> (Kindly provided by <a href="https://github.com/shasen1235" target="_blank" rel="noreferrer">@shasen1235</a>).</p><h2 id="bios-configuration" tabindex="-1">BIOS Configuration <a class="header-anchor" href="#bios-configuration" aria-label="Permalink to &quot;BIOS Configuration&quot;">​</a></h2><ul><li><code>Fast Boot</code>: Disabled</li><li><code>CNVi Support</code>: Auto</li></ul><p>Regarding Fast Boot and Dual Boot with Windows, read this <a href="https://wireless.wiki.kernel.org/en/users/drivers/iwlwifi#about_dual-boot_with_windows_and_fast-boot_enabled" target="_blank" rel="noreferrer">explanation</a> from Linux for more info.</p><h2 id="kernel-extension-loading-status" tabindex="-1">Kernel Extension Loading Status <a class="header-anchor" href="#kernel-extension-loading-status" aria-label="Permalink to &quot;Kernel Extension Loading Status&quot;">​</a></h2><p>Run the following command in terminal:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kextstat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;KEXT&#39;S_NAME&quot;</span></span></code></pre></div><p>For example:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kextstat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;itlwm&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    70</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0xffffff7f84126000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0xf86000</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0xf86000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   com.zxystd.itlwm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1) 10EA7641-BDCB-3820-9AF7-4C773FD9953E </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">33 13 6 5 3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">1&gt;</span></span></code></pre></div><ul><li>If a new line with the kext&#39;s name appears, it means the kext has successfully loaded.</li><li>If you get nothing, please recheck your bootloader&#39;s configuration.</li></ul><h2 id="resetting-system-preferences-network" tabindex="-1">Resetting System Preferences - Network <a class="header-anchor" href="#resetting-system-preferences-network" aria-label="Permalink to &quot;Resetting System Preferences - Network&quot;">​</a></h2><p>If you&#39;ve tried other network-related Kernel Extensions before, some system configurations may be corrupted.</p><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>The following procedures will completely reset your network preferences, including proxies, DNS, etc. The deleted files will be automatically created. <em><strong>But make sure you have made a proper backup.</strong></em></p></div><ol><li><p>Open System Preferences → Network, delete all ports, click on apply at the bottom right corner.</p></li><li><p>Open Terminal, run:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /Library/Preferences/SystemConfiguration</span></span></code></pre></div></li><li><p>Then Delete:</p><ul><li><strong><code>com.apple.airport.preferences.plist</code></strong></li><li><strong><code>preferences.plist</code></strong></li><li><strong><code>NetworkInterfaces.plist</code></strong></li><li><strong><code>com.apple.network.identification.plist</code></strong></li><li><strong><code>com.apple.wifi.message-tracer.plist</code></strong></li><li>And all files containing <code>enX</code>, (<code>X</code> as an integer)</li></ul><blockquote><p>If you&#39;ve changed your SMBIOS before, you must also delete files with names that contain your current and previous models.</p></blockquote></li><li><p>Reboot.</p></li></ol><h2 id="runtime-logs" tabindex="-1">Runtime Logs <a class="header-anchor" href="#runtime-logs" aria-label="Permalink to &quot;Runtime Logs&quot;">​</a></h2><p>Choose one of the following methods to collect logs.</p><h3 id="via-heliport" tabindex="-1">Via HeliPort <a class="header-anchor" href="#via-heliport" aria-label="Permalink to &quot;Via HeliPort&quot;">​</a></h3><p><a href="/HeliPort/Troubleshooting.html">Use HeliPort to create a diagnostic report</a> (works for AirportItlwm as well)</p><h3 id="manually-collecting-logs" tabindex="-1">Manually Collecting Logs <a class="header-anchor" href="#manually-collecting-logs" aria-label="Permalink to &quot;Manually Collecting Logs&quot;">​</a></h3><ol><li><p>Install <a href="https://github.com/acidanthera/DebugEnhancer" target="_blank" rel="noreferrer"><code>DebugEnhancer.kext</code></a>.</p></li><li><p>For AirportItlwm users, run the following commands <em><strong>before</strong></em> the next step:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enable airportd logs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Resources/airport</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> debug</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +AllUserland</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +AllDriver</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +AllVendor</span></span></code></pre></div></li><li><p>Run the following commands in terminal to gather logs:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmesg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -E</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;itlwm|Airport|IO80211|EAPOL&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/Desktop/Log_&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">date</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;+%Y-%m-%d_%H-%M-%S&#39;)&quot;.log</span></span></code></pre></div></li><li><p>A log file will then be created on your Desktop.</p></li></ol><h3 id="debugging-802-1x" tabindex="-1">Debugging 802.1X <a class="header-anchor" href="#debugging-802-1x" aria-label="Permalink to &quot;Debugging 802.1X&quot;">​</a></h3><p>If you are using a network with 802.1X, please follow the guide below provided by Apple.</p><h4 id="enabling-logging" tabindex="-1">Enabling Logging <a class="header-anchor" href="#enabling-logging" aria-label="Permalink to &quot;Enabling Logging&quot;">​</a></h4><ol><li><p>Enable 802.1X verbose logs by running the below command in the terminal:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wdutil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +wifi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +eapol</span></span></code></pre></div></li><li><p>Reproduce the problem. (Important: Note the date and time issue occurred add this information to your report).</p></li><li><p>Then gather wireless diagnostics by running the below command in the terminal:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wdutil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> diagnose</span></span></code></pre></div></li><li><p>Attach the wireless diagnostic file that appears in <code>/private/var/tmp/</code> after several minutes.</p><p><strong>Note:</strong> The wireless diagnostic process can take 10 minutes to complete. Once finished, the folder “/private/var/tmp/“ should appear automatically in the Finder and the wireless diagnostic file there will look similar to this: <code>WirelessDiagnostics_C02T21XYZPDQ_2021-02-22_10.24.48.tar.gz</code></p></li></ol><h4 id="disabling-logging-to-disable-eapol-logging" tabindex="-1">Disabling Logging To disable EAPOL logging <a class="header-anchor" href="#disabling-logging-to-disable-eapol-logging" aria-label="Permalink to &quot;Disabling Logging To disable EAPOL logging&quot;">​</a></h4><p>To disable both Wi-Fi and EAPOL logging use:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wdutil</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -wifi</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -eapol</span></span></code></pre></div>`,30)]))}const c=e(l,[["render",n]]);export{k as __pageData,c as default};
