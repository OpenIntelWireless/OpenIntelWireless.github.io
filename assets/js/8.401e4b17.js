(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{359:function(e,s,t){"use strict";t.r(s);var a=t(42),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"troubleshooting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),t("h2",{attrs:{id:"kernel-extensions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kernel-extensions"}},[e._v("#")]),e._v(" Kernel Extensions")]),e._v(" "),t("p",[e._v("Troubleshooting a Kernel Extension might not be straight forward, here are some tactics:")]),e._v(" "),t("h3",{attrs:{id:"checking-whether-a-kernel-extension-has-loaded-successfully"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#checking-whether-a-kernel-extension-has-loaded-successfully"}},[e._v("#")]),e._v(" Checking whether a Kernel Extension has loaded successfully")]),e._v(" "),t("p",[e._v("Run the following command in terminal:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("kextstat "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"KEXT\'S_NAME"')]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("p",[e._v("For example:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("$ kextstat "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"itlwm"')]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("70")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("0")]),e._v(" 0xffffff7f84126000 0xf86000   0xf86000   com.zxystd.itlwm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" 10EA7641-BDCB-3820-9AF7-4C773FD9953E "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("33")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("13")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("5")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("1")]),e._v(">")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])]),t("ul",[t("li",[e._v("If a new line with the kext's name appears, it means the kext has successfully loaded.")]),e._v(" "),t("li",[e._v("If you get nothing, please recheck your bootloader's configuration.")])]),e._v(" "),t("h3",{attrs:{id:"resetting-system-preferences-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#resetting-system-preferences-network"}},[e._v("#")]),e._v(" Resetting System Preferences - Network")]),e._v(" "),t("p",[e._v("If you've tried other network-related Kernel Extensions before, it's possible that some system configurations were corrupted.")]),e._v(" "),t("p",[t("strong",[e._v("WARNING:")]),e._v(" The following procedures will completely reset your network preferences, including proxies, dns, etc. The deleted files will be automatically created. "),t("em",[t("strong",[e._v("But make sure you have made a proper backup.")])])]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Open System Preferences â†’ Network, delete all ports, click on apply at the bottom right corner")])]),e._v(" "),t("li",[t("p",[e._v("Open Terminal, run:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("open")]),e._v(" /Library/Preferences/SystemConfiguration\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("Then Delete")]),e._v(" "),t("ul",[t("li",[t("strong",[t("code",[e._v("com.apple.airport.preferences.plist")])])]),e._v(" "),t("li",[t("strong",[t("code",[e._v("preferences.plist")])])]),e._v(" "),t("li",[t("strong",[t("code",[e._v("NetworkInterfaces.plist")])])]),e._v(" "),t("li",[t("strong",[t("code",[e._v("com.apple.network.identification.plist")])])]),e._v(" "),t("li",[t("strong",[t("code",[e._v("com.apple.wifi.message-tracer.plist")])])]),e._v(" "),t("li",[e._v("And all files containing "),t("code",[e._v("enX")]),e._v(", ("),t("code",[e._v("X")]),e._v(" as an integer)")])]),e._v(" "),t("blockquote",[t("p",[e._v("If you've changed your SMBIOS before, you must also delete files with names that contain your current and previous models.")])])]),e._v(" "),t("li",[t("p",[e._v("Reboot")])])]),e._v(" "),t("h3",{attrs:{id:"getting-kext-logs-for-runtime-issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getting-kext-logs-for-runtime-issues"}},[e._v("#")]),e._v(" Getting Kext Logs For Runtime issues")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Run the following command in terminal:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("log show --last boot "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"KEXT\'S_NAME"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/Desktop/Log_"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("date")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'+%Y-%m-%d_%H-%M-%S'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('"')]),e._v(".log\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("A log file will then be created on your Desktop.")])])]),e._v(" "),t("h3",{attrs:{id:"getting-kext-logs-for-loading-failures"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getting-kext-logs-for-loading-failures"}},[e._v("#")]),e._v(" Getting Kext Logs For Loading Failures")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("log")]),e._v(" command in macOS is ridiculously unreliable for identifying Kext loading issues when Kexts are injected by bootloaders. Fortunately, we can use "),t("code",[e._v("msgbuf")]),e._v(" or load the Kext manually after booting into the system to solve this issue.")]),e._v(" "),t("h4",{attrs:{id:"using-msgbuf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#using-msgbuf"}},[e._v("#")]),e._v(" Using "),t("code",[e._v("msgbuf")])]),e._v(" "),t("blockquote",[t("p",[e._v("Credit "),t("a",{attrs:{href:"https://github.com/lvs1974",target:"_blank",rel:"noopener noreferrer"}},[e._v("lvs1974"),t("OutboundLink")],1)])]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Add "),t("code",[e._v("msgbuf=1048576")]),e._v(" into "),t("code",[e._v("boot-args")]),e._v(" using either nvram or your bootloader's config")])]),e._v(" "),t("li",[t("p",[e._v("Run the following command in terminal:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("dmesg")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"KEXT\'S_NAME"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/Desktop/Log_"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("date")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'+%Y-%m-%d_%H-%M-%S'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('"')]),e._v(".log\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("A log file will then be created on your Desktop.")])])]),e._v(" "),t("h4",{attrs:{id:"loading-the-kext-manually-only-works-for-itlwm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loading-the-kext-manually-only-works-for-itlwm"}},[e._v("#")]),e._v(" Loading the kext manually (only works for itlwm)")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Download the latest version of "),t("strong",[e._v("itlwm")]),e._v(", unzip")])]),e._v(" "),t("li",[t("p",[e._v("Remove itlwm from your EFI")])]),e._v(" "),t("li",[t("p",[e._v("Disable System Integrity Protection")])]),e._v(" "),t("li",[t("p",[e._v("Restart your computer")])]),e._v(" "),t("li",[t("p",[e._v("Run the following commands in terminal:")]),e._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cp")]),e._v(" -R ~/Downloads/itlwm.kext /tmp\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" -R root:wheel /tmp/*.kext\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" kextutil -v /tmp/*.kext\nlog show --last boot "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" -i "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"KEXT\'S_NAME"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" ~/Desktop/Log_"),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("date")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v("'+%Y-%m-%d_%H-%M-%S'")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v('"')]),e._v(".log\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br")])])]),e._v(" "),t("li",[t("p",[e._v("A log file will then be created on your Desktop.")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);